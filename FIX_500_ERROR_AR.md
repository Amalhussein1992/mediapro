# ุญู ูุดููุฉ 500 Server Error - ุฎุทูุฉ ุจุฎุทูุฉ ๐ง

## ุงููุดููุฉ ุงูุญุงููุฉ
ุงููููุน ูุนุฑุถ ุฎุทุฃ 500 ุนูู: https://mediapro.social

## ุงูุฃุณุจุงุจ ุงููุญุชููุฉ ูุงูุญููู

### 1๏ธโฃ ุฅุนุฏุงุฏุงุช Document Root ูู Plesk

**ุงููุดููุฉ:** Plesk ูุฌุจ ุฃู ูุดูุฑ ุฅูู ูุฌูุฏ `public` ูููุณ ุงููุฌูุฏ ุงูุฑุฆูุณู

**ุงูุญู:**
1. ุงูุชุญ Plesk Panel
2. ุงุฐูุจ ุฅูู **Hosting Settings** ููุฏูููู `mediapro.social`
3. ุงุจุญุซ ุนู **Document Root**
4. ุบููุฑู ุฅูู: `httpdocs/public` ุจุฏูุงู ูู `httpdocs`
5. ุงุญูุธ ุงูุชุบููุฑุงุช

---

### 2๏ธโฃ ููู .env ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ุตุญูุญ

**ุงูุญู:**
1. ุงูุชุญ **File Manager** ูู Plesk
2. ุงุฐูุจ ุฅูู ูุฌูุฏ `httpdocs`
3. ุชุฃูุฏ ูู ูุฌูุฏ ููู `.env`
4. ุฅุฐุง ูู ููู ููุฌูุฏุ ูู ุจุชุญููู ุงูููู `.env.server` ูุฃุนุฏ ุชุณููุชู ุฅูู `.env`

---

### 3๏ธโฃ ุตูุงุญูุงุช ุงููุฌูุฏุงุช

**ุงููุดููุฉ:** Laravel ูุญุชุงุฌ ุตูุงุญูุงุช ูุชุงุจุฉ ุนูู ูุฌูุฏุงุช ูุนููุฉ

**ุงูุญู ุนุจุฑ SSH:**
```bash
cd /var/www/vhosts/mediapro.social/httpdocs
chmod -R 775 storage bootstrap/cache
chown -R username:psacln storage bootstrap/cache
```

**ุฃู ุนุจุฑ Plesk File Manager:**
1. ุงูุชุญ File Manager
2. ุงุถุบุท ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู ูุฌูุฏ `storage`
3. ุงุฎุชุฑ **Change Permissions**
4. ุญุฏุฏ: Read, Write, Execute ูููุงูู ูุงููุฌููุนุฉ
5. ูุฑุฑ ููุณ ุงูุนูููุฉ ููุฌูุฏ `bootstrap/cache`

---

### 4๏ธโฃ ุชุดุบูู ุฃูุงูุฑ Laravel

**ุนุจุฑ SSH ูู Plesk:**
```bash
cd /var/www/vhosts/mediapro.social/httpdocs
composer install --no-dev --optimize-autoloader
php artisan config:clear
php artisan cache:clear
php artisan route:clear
php artisan view:clear
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

---

### 5๏ธโฃ ูุญุต ููู .htaccess

**ุชุฃูุฏ ูู ูุฌูุฏ ุงูููู:** `public/.htaccess`

**ุงููุญุชูู ุงูุตุญูุญ:**
```apache
<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        Options -MultiViews -Indexes
    </IfModule>

    RewriteEngine On

    # Handle Authorization Header
    RewriteCond %{HTTP:Authorization} .
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

    # Redirect Trailing Slashes
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} (.+)/$
    RewriteRule ^ %1 [L,R=301]

    # Send Requests To Front Controller
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule>
```

---

### 6๏ธโฃ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุชุฃูุฏ ูู:**
1. ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ ูุชุนูู
2. ุจูุงูุงุช ุงูุงุชุตุงู ูู `.env` ุตุญูุญุฉ:
   ```
   DB_HOST=localhost
   DB_DATABASE=socialmedia_manager
   DB_USERNAME=admin_mediapro
   DB_PASSWORD=d4hmy~5ZZM!lgcm6
   ```
3. ุชุดุบูู Migration:
   ```bash
   php artisan migrate --force
   ```

---

### 7๏ธโฃ ูุญุต ูููุงุช Log

**ููุนุฑูุฉ ุงูุณุจุจ ุงูุฏููู ููุฎุทุฃ:**

1. ุงูุชุญ File Manager ูู Plesk
2. ุงุฐูุจ ุฅูู: `storage/logs/`
3. ุงูุชุญ ุฃุญุฏุซ ููู `laravel.log`
4. ุงุจุญุซ ุนู ุขุฎุฑ ุฎุทุฃ (ERROR)

**ุฃู ุนุจุฑ SSH:**
```bash
tail -n 50 /var/www/vhosts/mediapro.social/httpdocs/storage/logs/laravel.log
```

---

## ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ ููุญู โก

### ุงูุทุฑููุฉ ุงูุฃุณุฑุน:

1. **ุนุจุฑ Plesk Panel:**
   - ุงุฐูุจ ุฅูู **Domains** โ **mediapro.social** โ **Hosting Settings**
   - Document Root: `httpdocs/public`
   - ุงุญูุธ

2. **ุนุจุฑ SSH Terminal ูู Plesk:**
   ```bash
   cd /var/www/vhosts/mediapro.social/httpdocs
   chmod -R 775 storage bootstrap/cache
   php artisan config:clear
   php artisan cache:clear
   php artisan config:cache
   ```

3. **ุงูุชุญ ุงููููุน:**
   https://mediapro.social

---

## ุงุฎุชุจุงุฑ ุณุฑูุน

**ุงุฎุชุจุงุฑ ุฃู Laravel ูุนูู:**
```
https://mediapro.social/api/config
```

**ูุฌุจ ุฃู ูุนุฑุถ:**
```json
{
  "app_name": "Media Pro",
  "version": "1.0.0",
  ...
}
```

---

## ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

1. ุงูุญุต ููู Log: `storage/logs/laravel.log`
2. ุชุฃูุฏ ูู ุฅุตุฏุงุฑ PHP (ูุฌุจ ุฃู ูููู 8.2 ุฃู ุฃุญุฏุซ)
3. ุชุฃูุฏ ูู ุชูุนูู Extensions ุงููุทููุจุฉ:
   - OpenSSL
   - PDO
   - Mbstring
   - Tokenizer
   - XML
   - Ctype
   - JSON
   - BCMath

---

## ูุนูููุงุช ูููุฉ ๐

- **Domain:** mediapro.social
- **Database:** socialmedia_manager
- **DB User:** admin_mediapro
- **Laravel Version:** 12.33.0
- **PHP Required:** 8.2+

---

## ููุชูุงุตู ูุงูุฏุนู

ุฅุฐุง ุงุญุชุฌุช ูุณุงุนุฏุฉ ุฅุถุงููุฉุ ุฃุฑุณู ูู:
1. ูุญุชูู ููู `storage/logs/laravel.log` (ุขุฎุฑ 50 ุณุทุฑ)
2. ููุทุฉ ุดุงุดุฉ ูู ุฅุนุฏุงุฏุงุช Hosting ูู Plesk
3. ูุชูุฌุฉ ุงูุฃูุฑ: `php artisan --version`
